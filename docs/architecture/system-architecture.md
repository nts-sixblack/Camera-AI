# System Architecture

```
┌─────────────────────────────────────────────────────────────────────┐
│                           UI Layer                                   │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │                        SwiftUI Views                         │    │
│  │   CameraContentView → ViewfinderView → ControlsHUD          │    │
│  └─────────────────────────────────────────────────────────────┘    │
├─────────────────────────────────────────────────────────────────────┤
│                        Feature Layer                                 │
│  ┌──────────────────┐  ┌──────────────────┐  ┌─────────────────┐   │
│  │   Permissions    │  │   Viewfinder     │  │  ManualControls │   │
│  │   ──────────     │  │   ──────────     │  │  ──────────────  │   │
│  │ • CameraPermMgr  │  │ • CameraEngine   │  │ • ISOController │   │
│  │ • PhotoLibMgr    │  │ • ViewfinderVM   │  │ • ShutterCtrl   │   │
│  │ • PermissionUI   │  │ • PreviewLayer   │  │ • FocusCtrl     │   │
│  └──────────────────┘  └──────────────────┘  └─────────────────┘   │
├─────────────────────────────────────────────────────────────────────┤
│                       Core Services                                  │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │  AVCaptureSession  │  Metal Pipeline  │  PhotoKit Bridge    │    │
│  └─────────────────────────────────────────────────────────────┘    │
├─────────────────────────────────────────────────────────────────────┤
│                       System Frameworks                              │
│  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────────┐   │
│  │AVFoundation│  │   Metal   │  │  PhotoKit │  │   CoreLocation│   │
│  └───────────┘  └───────────┘  └───────────┘  └───────────────┘   │
└─────────────────────────────────────────────────────────────────────┘
```

---
